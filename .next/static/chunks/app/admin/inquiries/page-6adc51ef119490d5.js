(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{3022:(e,t,s)=>{Promise.resolve().then(s.bind(s,9386)),Promise.resolve().then(s.bind(s,5941))},3321:(e,t,s)=>{"use strict";var r=s(4645);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},5941:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var r=s(5155),a=s(3321),n=s(2115);function i({inquiryId:e}){let t=(0,a.useRouter)(),[s,i]=(0,n.useState)(!1);async function l(){i(!0);try{(await fetch(`/api/admin/inquiries?id=${e}`,{method:"PATCH"})).ok&&t.refresh()}finally{i(!1)}}return(0,r.jsx)("button",{type:"button",onClick:l,disabled:s,className:"shrink-0 rounded-lg bg-slate-700 px-4 py-2 text-sm font-medium text-white transition hover:bg-slate-600 disabled:opacity-50",children:s?"...":"Mark replied"})}},9386:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var r=s(5155),a=s(3321),n=s(2115);function i({inquiryId:e}){let t=(0,a.useRouter)(),[s,i]=(0,n.useState)(""),[l,o]=(0,n.useState)("idle"),[d,u]=(0,n.useState)("");async function c(r){r.preventDefault(),u(""),o("sending");try{let r=await fetch("/api/admin/inquiries/reply",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,message:s})}),a=await r.json().catch(()=>({}));if(!r.ok){o("error"),u(a.error||"Failed to send reply");return}o("success"),i(""),t.refresh()}catch{o("error"),u("Something went wrong")}}return(0,r.jsxs)("form",{onSubmit:c,className:"mt-6 rounded-xl border border-slate-600/50 bg-slate-800/50 p-4",children:[(0,r.jsx)("label",{htmlFor:`reply-${e}`,className:"block text-sm font-medium text-slate-300",children:"Reply to this message"}),(0,r.jsx)("textarea",{id:`reply-${e}`,rows:4,value:s,onChange:e=>i(e.target.value),placeholder:"Type your reply here. It will be emailed to the sender.",className:"mt-2 w-full rounded-lg border border-slate-600 bg-slate-800 px-4 py-3 text-white placeholder-slate-500 focus:border-cyan-500 focus:outline-none focus:ring-1 focus:ring-cyan-500",required:!0,disabled:"sending"===l}),"success"===l&&(0,r.jsx)("p",{className:"mt-2 text-sm text-emerald-400",children:"Reply sent successfully."}),"error"===l&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-400",role:"alert",children:d}),(0,r.jsx)("button",{type:"submit",disabled:"sending"===l||!s.trim(),className:"mt-3 rounded-lg bg-cyan-500 px-4 py-2 text-sm font-semibold text-slate-900 transition hover:bg-cyan-400 disabled:opacity-50",children:"sending"===l?"Sending...":"Send reply"})]})}}},e=>{e.O(0,[441,794,358],()=>e(e.s=3022)),_N_E=e.O()}]);