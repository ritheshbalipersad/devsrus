{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Source/Repos/devsrus/src/lib/inquiries.ts"],"sourcesContent":["import { promises as fs } from \"fs\";\nimport path from \"path\";\n\nexport type InquiryReply = {\n  message: string;\n  sentAt: string;\n};\n\nexport type Inquiry = {\n  id: string;\n  name: string;\n  email: string;\n  subject: string;\n  message: string;\n  status: \"new\" | \"replied\";\n  createdAt: string;\n  repliedAt?: string;\n  replies?: InquiryReply[];\n};\n\nconst DATA_DIR = path.join(process.cwd(), \"data\");\nconst INQUIRIES_FILE = path.join(DATA_DIR, \"inquiries.json\");\n\nasync function ensureDataDir() {\n  await fs.mkdir(DATA_DIR, { recursive: true });\n}\n\nasync function readInquiries(): Promise<Inquiry[]> {\n  try {\n    await ensureDataDir();\n    const data = await fs.readFile(INQUIRIES_FILE, \"utf-8\");\n    return JSON.parse(data);\n  } catch {\n    return [];\n  }\n}\n\nexport async function getInquiries(): Promise<Inquiry[]> {\n  const inquiries = await readInquiries();\n  return inquiries.sort(\n    (a, b) =>\n      new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n  );\n}\n\nexport async function getInquiryById(id: string): Promise<Inquiry | null> {\n  const inquiries = await readInquiries();\n  return inquiries.find((i) => i.id === id) ?? null;\n}\n\nexport async function addInquiry(\n  inquiry: Omit<Inquiry, \"id\" | \"status\" | \"createdAt\">\n): Promise<Inquiry> {\n  const { v4: uuid } = await import(\"uuid\");\n  const inquiries = await readInquiries();\n  const newInquiry: Inquiry = {\n    ...inquiry,\n    id: uuid(),\n    status: \"new\",\n    createdAt: new Date().toISOString(),\n  };\n  inquiries.push(newInquiry);\n  await ensureDataDir();\n  await fs.writeFile(INQUIRIES_FILE, JSON.stringify(inquiries, null, 2));\n  return newInquiry;\n}\n\nexport async function markInquiryReplied(id: string): Promise<boolean> {\n  const inquiries = await readInquiries();\n  const idx = inquiries.findIndex((i) => i.id === id);\n  if (idx === -1) return false;\n  inquiries[idx].status = \"replied\";\n  inquiries[idx].repliedAt = new Date().toISOString();\n  await ensureDataDir();\n  await fs.writeFile(INQUIRIES_FILE, JSON.stringify(inquiries, null, 2));\n  return true;\n}\n\nexport async function addReplyToInquiry(\n  id: string,\n  message: string\n): Promise<boolean> {\n  const inquiries = await readInquiries();\n  const idx = inquiries.findIndex((i) => i.id === id);\n  if (idx === -1) return false;\n  const reply: InquiryReply = {\n    message: message.trim(),\n    sentAt: new Date().toISOString(),\n  };\n  const inquiry = inquiries[idx];\n  inquiry.replies = inquiry.replies ?? [];\n  inquiry.replies.push(reply);\n  inquiry.status = \"replied\";\n  inquiry.repliedAt = reply.sentAt;\n  await ensureDataDir();\n  await fs.writeFile(INQUIRIES_FILE, JSON.stringify(inquiries, null, 2));\n  return true;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA;;;AAmBA,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAC1C,MAAM,iBAAiB,4GAAI,CAAC,IAAI,CAAC,UAAU;AAE3C,eAAe;IACb,MAAM,yGAAE,CAAC,KAAK,CAAC,UAAU;QAAE,WAAW;IAAK;AAC7C;AAEA,eAAe;IACb,IAAI;QACF,MAAM;QACN,MAAM,OAAO,MAAM,yGAAE,CAAC,QAAQ,CAAC,gBAAgB;QAC/C,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAEO,eAAe;IACpB,MAAM,YAAY,MAAM;IACxB,OAAO,UAAU,IAAI,CACnB,CAAC,GAAG,IACF,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO;AAErE;AAEO,eAAe,eAAe,EAAU;IAC7C,MAAM,YAAY,MAAM;IACxB,OAAO,UAAU,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,OAAO;AAC/C;AAEO,eAAe,WACpB,OAAqD;IAErD,MAAM,EAAE,IAAI,IAAI,EAAE,GAAG;IACrB,MAAM,YAAY,MAAM;IACxB,MAAM,aAAsB;QAC1B,GAAG,OAAO;QACV,IAAI;QACJ,QAAQ;QACR,WAAW,IAAI,OAAO,WAAW;IACnC;IACA,UAAU,IAAI,CAAC;IACf,MAAM;IACN,MAAM,yGAAE,CAAC,SAAS,CAAC,gBAAgB,KAAK,SAAS,CAAC,WAAW,MAAM;IACnE,OAAO;AACT;AAEO,eAAe,mBAAmB,EAAU;IACjD,MAAM,YAAY,MAAM;IACxB,MAAM,MAAM,UAAU,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAChD,IAAI,QAAQ,CAAC,GAAG,OAAO;IACvB,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG;IACxB,SAAS,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,OAAO,WAAW;IACjD,MAAM;IACN,MAAM,yGAAE,CAAC,SAAS,CAAC,gBAAgB,KAAK,SAAS,CAAC,WAAW,MAAM;IACnE,OAAO;AACT;AAEO,eAAe,kBACpB,EAAU,EACV,OAAe;IAEf,MAAM,YAAY,MAAM;IACxB,MAAM,MAAM,UAAU,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAChD,IAAI,QAAQ,CAAC,GAAG,OAAO;IACvB,MAAM,QAAsB;QAC1B,SAAS,QAAQ,IAAI;QACrB,QAAQ,IAAI,OAAO,WAAW;IAChC;IACA,MAAM,UAAU,SAAS,CAAC,IAAI;IAC9B,QAAQ,OAAO,GAAG,QAAQ,OAAO,IAAI,EAAE;IACvC,QAAQ,OAAO,CAAC,IAAI,CAAC;IACrB,QAAQ,MAAM,GAAG;IACjB,QAAQ,SAAS,GAAG,MAAM,MAAM;IAChC,MAAM;IACN,MAAM,yGAAE,CAAC,SAAS,CAAC,gBAAgB,KAAK,SAAS,CAAC,WAAW,MAAM;IACnE,OAAO;AACT"}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///C:/Source/Repos/devsrus/src/app/admin/inquiries/MarkRepliedButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/admin/inquiries/MarkRepliedButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/admin/inquiries/MarkRepliedButton.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiT,GAC9U,+EACA","ignoreList":[0]}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///C:/Source/Repos/devsrus/src/app/admin/inquiries/MarkRepliedButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/admin/inquiries/MarkRepliedButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/admin/inquiries/MarkRepliedButton.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA6R,GAC1T,2DACA","ignoreList":[0]}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file:///C:/Source/Repos/devsrus/src/app/admin/inquiries/InquiryReplyForm.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/admin/inquiries/InquiryReplyForm.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/admin/inquiries/InquiryReplyForm.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgT,GAC7U,8EACA","ignoreList":[0]}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///C:/Source/Repos/devsrus/src/app/admin/inquiries/InquiryReplyForm.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/admin/inquiries/InquiryReplyForm.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/admin/inquiries/InquiryReplyForm.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA4R,GACzT,0DACA","ignoreList":[0]}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///C:/Source/Repos/devsrus/src/app/admin/inquiries/page.tsx"],"sourcesContent":["import { getInquiries } from \"@/lib/inquiries\";\nimport MarkRepliedButton from \"./MarkRepliedButton\";\nimport InquiryReplyForm from \"./InquiryReplyForm\";\n\nexport default async function AdminInquiriesPage() {\n  const inquiries = await getInquiries();\n\n  return (\n    <div>\n      <h1 className=\"text-3xl font-bold text-white\">Inquiries</h1>\n      <p className=\"mt-2 text-slate-400\">\n        Contact form submissions. Reply directly below or mark as replied.\n      </p>\n\n      {inquiries.length === 0 ? (\n        <p className=\"mt-8 text-slate-400\">No inquiries yet.</p>\n      ) : (\n        <ul className=\"mt-8 space-y-4\">\n          {inquiries.map((inquiry) => (\n            <li\n              key={inquiry.id}\n              className={`rounded-2xl border p-6 ${\n                inquiry.status === \"new\"\n                  ? \"border-orange-500/30 bg-orange-500/5\"\n                  : \"border-slate-700/50 bg-slate-800/50\"\n              }`}\n            >\n              <div className=\"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between\">\n                <div className=\"min-w-0 flex-1\">\n                  <div className=\"flex flex-wrap items-center gap-2\">\n                    <span className=\"text-sm text-slate-500\">\n                      {new Date(inquiry.createdAt).toLocaleString()}\n                    </span>\n                    {inquiry.status === \"new\" && (\n                      <span className=\"rounded-full bg-orange-500/20 px-2 py-0.5 text-xs font-medium text-orange-400\">\n                        New\n                      </span>\n                    )}\n                  </div>\n                  <h3 className=\"mt-2 font-semibold text-white\">{inquiry.subject}</h3>\n                  <p className=\"mt-1 text-slate-400\">\n                    From: {inquiry.name} &lt;\n                    <a\n                      href={`mailto:${inquiry.email}`}\n                      className=\"text-cyan-400 hover:underline\"\n                    >\n                      {inquiry.email}\n                    </a>\n                    &gt;\n                  </p>\n                  <p className=\"mt-4 whitespace-pre-wrap text-slate-300\">\n                    {inquiry.message}\n                  </p>\n                  {inquiry.replies && inquiry.replies.length > 0 && (\n                    <div className=\"mt-6 space-y-4\">\n                      <h4 className=\"text-sm font-medium text-cyan-400\">\n                        Your reply {inquiry.replies.length > 1 ? `(${inquiry.replies.length})` : \"\"}\n                      </h4>\n                      {inquiry.replies.map((reply, i) => (\n                        <div\n                          key={reply.sentAt + i}\n                          className=\"rounded-lg border border-cyan-500/20 bg-cyan-500/10 p-4\"\n                        >\n                          <p className=\"text-xs text-slate-500\">\n                            {new Date(reply.sentAt).toLocaleString()}\n                          </p>\n                          <p className=\"mt-2 whitespace-pre-wrap text-slate-200\">\n                            {reply.message}\n                          </p>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n                {inquiry.status === \"new\" && (\n                  <MarkRepliedButton inquiryId={inquiry.id} />\n                )}\n              </div>\n              <InquiryReplyForm inquiryId={inquiry.id} />\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEe,eAAe;IAC5B,MAAM,YAAY,MAAM,IAAA,uIAAY;IAEpC,qBACE,8OAAC;;0BACC,8OAAC;gBAAG,WAAU;0BAAgC;;;;;;0BAC9C,8OAAC;gBAAE,WAAU;0BAAsB;;;;;;YAIlC,UAAU,MAAM,KAAK,kBACpB,8OAAC;gBAAE,WAAU;0BAAsB;;;;;qCAEnC,8OAAC;gBAAG,WAAU;0BACX,UAAU,GAAG,CAAC,CAAC,wBACd,8OAAC;wBAEC,WAAW,CAAC,uBAAuB,EACjC,QAAQ,MAAM,KAAK,QACf,yCACA,uCACJ;;0CAEF,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAK,WAAU;kEACb,IAAI,KAAK,QAAQ,SAAS,EAAE,cAAc;;;;;;oDAE5C,QAAQ,MAAM,KAAK,uBAClB,8OAAC;wDAAK,WAAU;kEAAgF;;;;;;;;;;;;0DAKpG,8OAAC;gDAAG,WAAU;0DAAiC,QAAQ,OAAO;;;;;;0DAC9D,8OAAC;gDAAE,WAAU;;oDAAsB;oDAC1B,QAAQ,IAAI;oDAAC;kEACpB,8OAAC;wDACC,MAAM,CAAC,OAAO,EAAE,QAAQ,KAAK,EAAE;wDAC/B,WAAU;kEAET,QAAQ,KAAK;;;;;;oDACZ;;;;;;;0DAGN,8OAAC;gDAAE,WAAU;0DACV,QAAQ,OAAO;;;;;;4CAEjB,QAAQ,OAAO,IAAI,QAAQ,OAAO,CAAC,MAAM,GAAG,mBAC3C,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAG,WAAU;;4DAAoC;4DACpC,QAAQ,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,EAAE,QAAQ,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG;;;;;;;oDAE1E,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC,OAAO,kBAC3B,8OAAC;4DAEC,WAAU;;8EAEV,8OAAC;oEAAE,WAAU;8EACV,IAAI,KAAK,MAAM,MAAM,EAAE,cAAc;;;;;;8EAExC,8OAAC;oEAAE,WAAU;8EACV,MAAM,OAAO;;;;;;;2DAPX,MAAM,MAAM,GAAG;;;;;;;;;;;;;;;;;oCAc7B,QAAQ,MAAM,KAAK,uBAClB,8OAAC,iKAAiB;wCAAC,WAAW,QAAQ,EAAE;;;;;;;;;;;;0CAG5C,8OAAC,gKAAgB;gCAAC,WAAW,QAAQ,EAAE;;;;;;;uBA1DlC,QAAQ,EAAE;;;;;;;;;;;;;;;;AAiE7B"}}]
}