{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Source/Repos/devsrus/src/lib/products.ts"],"sourcesContent":["import { promises as fs } from \"fs\";\nimport path from \"path\";\n\nexport type Product = {\n  id: string;\n  name: string;\n  description: string;\n  category: string;\n  imageUrl?: string;\n  createdAt: string;\n};\n\nconst DATA_DIR = path.join(process.cwd(), \"data\");\nconst PRODUCTS_FILE = path.join(DATA_DIR, \"products.json\");\n\nasync function ensureDataDir() {\n  await fs.mkdir(DATA_DIR, { recursive: true });\n}\n\nasync function readProducts(): Promise<Product[]> {\n  try {\n    await ensureDataDir();\n    const data = await fs.readFile(PRODUCTS_FILE, \"utf-8\");\n    return JSON.parse(data);\n  } catch {\n    return [];\n  }\n}\n\nexport async function getProducts(): Promise<Product[]> {\n  const products = await readProducts();\n  return products.sort(\n    (a, b) =>\n      new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n  );\n}\n\nexport async function addProduct(\n  product: Omit<Product, \"id\" | \"createdAt\">\n): Promise<Product> {\n  const { v4: uuid } = await import(\"uuid\");\n  const products = await readProducts();\n  const newProduct: Product = {\n    ...product,\n    id: uuid(),\n    createdAt: new Date().toISOString(),\n  };\n  products.push(newProduct);\n  await ensureDataDir();\n  await fs.writeFile(PRODUCTS_FILE, JSON.stringify(products, null, 2));\n  return newProduct;\n}\n\nexport async function deleteProduct(id: string): Promise<boolean> {\n  const products = await readProducts();\n  const filtered = products.filter((p) => p.id !== id);\n  if (filtered.length === products.length) return false;\n  await ensureDataDir();\n  await fs.writeFile(PRODUCTS_FILE, JSON.stringify(filtered, null, 2));\n  return true;\n}\n\nexport async function updateProduct(\n  id: string,\n  updates: Partial<Omit<Product, \"id\" | \"createdAt\">>\n): Promise<Product | null> {\n  const products = await readProducts();\n  const idx = products.findIndex((p) => p.id === id);\n  if (idx === -1) return null;\n  const current = products[idx];\n  products[idx] = {\n    ...current,\n    ...(updates.name !== undefined && { name: String(updates.name).trim() }),\n    ...(updates.description !== undefined && {\n      description: String(updates.description).trim(),\n    }),\n    ...(updates.category !== undefined && {\n      category: String(updates.category).trim(),\n    }),\n    ...(updates.imageUrl !== undefined && {\n      imageUrl: updates.imageUrl ? String(updates.imageUrl).trim() : undefined,\n    }),\n  };\n  await ensureDataDir();\n  await fs.writeFile(PRODUCTS_FILE, JSON.stringify(products, null, 2));\n  return products[idx];\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;AAWA,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAC1C,MAAM,gBAAgB,4GAAI,CAAC,IAAI,CAAC,UAAU;AAE1C,eAAe;IACb,MAAM,yGAAE,CAAC,KAAK,CAAC,UAAU;QAAE,WAAW;IAAK;AAC7C;AAEA,eAAe;IACb,IAAI;QACF,MAAM;QACN,MAAM,OAAO,MAAM,yGAAE,CAAC,QAAQ,CAAC,eAAe;QAC9C,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAEO,eAAe;IACpB,MAAM,WAAW,MAAM;IACvB,OAAO,SAAS,IAAI,CAClB,CAAC,GAAG,IACF,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO;AAErE;AAEO,eAAe,WACpB,OAA0C;IAE1C,MAAM,EAAE,IAAI,IAAI,EAAE,GAAG;IACrB,MAAM,WAAW,MAAM;IACvB,MAAM,aAAsB;QAC1B,GAAG,OAAO;QACV,IAAI;QACJ,WAAW,IAAI,OAAO,WAAW;IACnC;IACA,SAAS,IAAI,CAAC;IACd,MAAM;IACN,MAAM,yGAAE,CAAC,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,UAAU,MAAM;IACjE,OAAO;AACT;AAEO,eAAe,cAAc,EAAU;IAC5C,MAAM,WAAW,MAAM;IACvB,MAAM,WAAW,SAAS,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IACjD,IAAI,SAAS,MAAM,KAAK,SAAS,MAAM,EAAE,OAAO;IAChD,MAAM;IACN,MAAM,yGAAE,CAAC,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,UAAU,MAAM;IACjE,OAAO;AACT;AAEO,eAAe,cACpB,EAAU,EACV,OAAmD;IAEnD,MAAM,WAAW,MAAM;IACvB,MAAM,MAAM,SAAS,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAC/C,IAAI,QAAQ,CAAC,GAAG,OAAO;IACvB,MAAM,UAAU,QAAQ,CAAC,IAAI;IAC7B,QAAQ,CAAC,IAAI,GAAG;QACd,GAAG,OAAO;QACV,GAAI,QAAQ,IAAI,KAAK,aAAa;YAAE,MAAM,OAAO,QAAQ,IAAI,EAAE,IAAI;QAAG,CAAC;QACvE,GAAI,QAAQ,WAAW,KAAK,aAAa;YACvC,aAAa,OAAO,QAAQ,WAAW,EAAE,IAAI;QAC/C,CAAC;QACD,GAAI,QAAQ,QAAQ,KAAK,aAAa;YACpC,UAAU,OAAO,QAAQ,QAAQ,EAAE,IAAI;QACzC,CAAC;QACD,GAAI,QAAQ,QAAQ,KAAK,aAAa;YACpC,UAAU,QAAQ,QAAQ,GAAG,OAAO,QAAQ,QAAQ,EAAE,IAAI,KAAK;QACjE,CAAC;IACH;IACA,MAAM;IACN,MAAM,yGAAE,CAAC,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,UAAU,MAAM;IACjE,OAAO,QAAQ,CAAC,IAAI;AACtB"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///C:/Source/Repos/devsrus/src/lib/inquiries.ts"],"sourcesContent":["import { promises as fs } from \"fs\";\nimport path from \"path\";\n\nexport type InquiryReply = {\n  message: string;\n  sentAt: string;\n};\n\nexport type Inquiry = {\n  id: string;\n  name: string;\n  email: string;\n  subject: string;\n  message: string;\n  status: \"new\" | \"replied\";\n  createdAt: string;\n  repliedAt?: string;\n  replies?: InquiryReply[];\n};\n\nconst DATA_DIR = path.join(process.cwd(), \"data\");\nconst INQUIRIES_FILE = path.join(DATA_DIR, \"inquiries.json\");\n\nasync function ensureDataDir() {\n  await fs.mkdir(DATA_DIR, { recursive: true });\n}\n\nasync function readInquiries(): Promise<Inquiry[]> {\n  try {\n    await ensureDataDir();\n    const data = await fs.readFile(INQUIRIES_FILE, \"utf-8\");\n    return JSON.parse(data);\n  } catch {\n    return [];\n  }\n}\n\nexport async function getInquiries(): Promise<Inquiry[]> {\n  const inquiries = await readInquiries();\n  return inquiries.sort(\n    (a, b) =>\n      new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n  );\n}\n\nexport async function getInquiryById(id: string): Promise<Inquiry | null> {\n  const inquiries = await readInquiries();\n  return inquiries.find((i) => i.id === id) ?? null;\n}\n\nexport async function addInquiry(\n  inquiry: Omit<Inquiry, \"id\" | \"status\" | \"createdAt\">\n): Promise<Inquiry> {\n  const { v4: uuid } = await import(\"uuid\");\n  const inquiries = await readInquiries();\n  const newInquiry: Inquiry = {\n    ...inquiry,\n    id: uuid(),\n    status: \"new\",\n    createdAt: new Date().toISOString(),\n  };\n  inquiries.push(newInquiry);\n  await ensureDataDir();\n  await fs.writeFile(INQUIRIES_FILE, JSON.stringify(inquiries, null, 2));\n  return newInquiry;\n}\n\nexport async function markInquiryReplied(id: string): Promise<boolean> {\n  const inquiries = await readInquiries();\n  const idx = inquiries.findIndex((i) => i.id === id);\n  if (idx === -1) return false;\n  inquiries[idx].status = \"replied\";\n  inquiries[idx].repliedAt = new Date().toISOString();\n  await ensureDataDir();\n  await fs.writeFile(INQUIRIES_FILE, JSON.stringify(inquiries, null, 2));\n  return true;\n}\n\nexport async function addReplyToInquiry(\n  id: string,\n  message: string\n): Promise<boolean> {\n  const inquiries = await readInquiries();\n  const idx = inquiries.findIndex((i) => i.id === id);\n  if (idx === -1) return false;\n  const reply: InquiryReply = {\n    message: message.trim(),\n    sentAt: new Date().toISOString(),\n  };\n  const inquiry = inquiries[idx];\n  inquiry.replies = inquiry.replies ?? [];\n  inquiry.replies.push(reply);\n  inquiry.status = \"replied\";\n  inquiry.repliedAt = reply.sentAt;\n  await ensureDataDir();\n  await fs.writeFile(INQUIRIES_FILE, JSON.stringify(inquiries, null, 2));\n  return true;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA;;;AAmBA,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAC1C,MAAM,iBAAiB,4GAAI,CAAC,IAAI,CAAC,UAAU;AAE3C,eAAe;IACb,MAAM,yGAAE,CAAC,KAAK,CAAC,UAAU;QAAE,WAAW;IAAK;AAC7C;AAEA,eAAe;IACb,IAAI;QACF,MAAM;QACN,MAAM,OAAO,MAAM,yGAAE,CAAC,QAAQ,CAAC,gBAAgB;QAC/C,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAEO,eAAe;IACpB,MAAM,YAAY,MAAM;IACxB,OAAO,UAAU,IAAI,CACnB,CAAC,GAAG,IACF,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO;AAErE;AAEO,eAAe,eAAe,EAAU;IAC7C,MAAM,YAAY,MAAM;IACxB,OAAO,UAAU,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,OAAO;AAC/C;AAEO,eAAe,WACpB,OAAqD;IAErD,MAAM,EAAE,IAAI,IAAI,EAAE,GAAG;IACrB,MAAM,YAAY,MAAM;IACxB,MAAM,aAAsB;QAC1B,GAAG,OAAO;QACV,IAAI;QACJ,QAAQ;QACR,WAAW,IAAI,OAAO,WAAW;IACnC;IACA,UAAU,IAAI,CAAC;IACf,MAAM;IACN,MAAM,yGAAE,CAAC,SAAS,CAAC,gBAAgB,KAAK,SAAS,CAAC,WAAW,MAAM;IACnE,OAAO;AACT;AAEO,eAAe,mBAAmB,EAAU;IACjD,MAAM,YAAY,MAAM;IACxB,MAAM,MAAM,UAAU,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAChD,IAAI,QAAQ,CAAC,GAAG,OAAO;IACvB,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG;IACxB,SAAS,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,OAAO,WAAW;IACjD,MAAM;IACN,MAAM,yGAAE,CAAC,SAAS,CAAC,gBAAgB,KAAK,SAAS,CAAC,WAAW,MAAM;IACnE,OAAO;AACT;AAEO,eAAe,kBACpB,EAAU,EACV,OAAe;IAEf,MAAM,YAAY,MAAM;IACxB,MAAM,MAAM,UAAU,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAChD,IAAI,QAAQ,CAAC,GAAG,OAAO;IACvB,MAAM,QAAsB;QAC1B,SAAS,QAAQ,IAAI;QACrB,QAAQ,IAAI,OAAO,WAAW;IAChC;IACA,MAAM,UAAU,SAAS,CAAC,IAAI;IAC9B,QAAQ,OAAO,GAAG,QAAQ,OAAO,IAAI,EAAE;IACvC,QAAQ,OAAO,CAAC,IAAI,CAAC;IACrB,QAAQ,MAAM,GAAG;IACjB,QAAQ,SAAS,GAAG,MAAM,MAAM;IAChC,MAAM;IACN,MAAM,yGAAE,CAAC,SAAS,CAAC,gBAAgB,KAAK,SAAS,CAAC,WAAW,MAAM;IACnE,OAAO;AACT"}},
    {"offset": {"line": 196, "column": 0}, "map": {"version":3,"sources":["file:///C:/Source/Repos/devsrus/src/app/admin/page.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport { getProducts } from \"@/lib/products\";\nimport { getInquiries } from \"@/lib/inquiries\";\n\nexport default async function AdminDashboard() {\n  const [products, inquiries] = await Promise.all([\n    getProducts(),\n    getInquiries(),\n  ]);\n  const newInquiries = inquiries.filter((i) => i.status === \"new\").length;\n\n  return (\n    <div>\n      <h1 className=\"text-3xl font-bold text-white\">Dashboard</h1>\n      <p className=\"mt-2 text-slate-400\">\n        Manage your products and contact inquiries.\n      </p>\n\n      <div className=\"mt-8 grid gap-6 sm:grid-cols-2\">\n        <Link\n          href=\"/admin/products\"\n          className=\"block rounded-2xl border border-slate-700/50 bg-slate-800/50 p-6 transition hover:border-cyan-500/50\"\n        >\n          <h2 className=\"text-xl font-semibold text-white\">Products</h2>\n          <p className=\"mt-2 text-3xl font-bold text-cyan-400\">{products.length}</p>\n          <p className=\"mt-1 text-sm text-slate-400\">\n            Add, edit, or remove products\n          </p>\n        </Link>\n        <Link\n          href=\"/admin/inquiries\"\n          className=\"block rounded-2xl border border-slate-700/50 bg-slate-800/50 p-6 transition hover:border-cyan-500/50\"\n        >\n          <h2 className=\"text-xl font-semibold text-white\">Inquiries</h2>\n          <p className=\"mt-2 text-3xl font-bold text-orange-400\">{inquiries.length}</p>\n          <p className=\"mt-1 text-sm text-slate-400\">\n            {newInquiries} new â€” view and mark as replied\n          </p>\n        </Link>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEe,eAAe;IAC5B,MAAM,CAAC,UAAU,UAAU,GAAG,MAAM,QAAQ,GAAG,CAAC;QAC9C,IAAA,qIAAW;QACX,IAAA,uIAAY;KACb;IACD,MAAM,eAAe,UAAU,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,OAAO,MAAM;IAEvE,qBACE,8OAAC;;0BACC,8OAAC;gBAAG,WAAU;0BAAgC;;;;;;0BAC9C,8OAAC;gBAAE,WAAU;0BAAsB;;;;;;0BAInC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,0LAAI;wBACH,MAAK;wBACL,WAAU;;0CAEV,8OAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,8OAAC;gCAAE,WAAU;0CAAyC,SAAS,MAAM;;;;;;0CACrE,8OAAC;gCAAE,WAAU;0CAA8B;;;;;;;;;;;;kCAI7C,8OAAC,0LAAI;wBACH,MAAK;wBACL,WAAU;;0CAEV,8OAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,8OAAC;gCAAE,WAAU;0CAA2C,UAAU,MAAM;;;;;;0CACxE,8OAAC;gCAAE,WAAU;;oCACV;oCAAa;;;;;;;;;;;;;;;;;;;;;;;;;AAM1B"}}]
}