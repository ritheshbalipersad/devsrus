{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///C:/Source/Repos/devsrus/src/lib/products.ts"],"sourcesContent":["import { promises as fs } from \"fs\";\nimport path from \"path\";\n\nexport type Product = {\n  id: string;\n  name: string;\n  description: string;\n  category: string;\n  imageUrl?: string;\n  createdAt: string;\n};\n\nconst DATA_DIR = path.join(process.cwd(), \"data\");\nconst PRODUCTS_FILE = path.join(DATA_DIR, \"products.json\");\n\nasync function ensureDataDir() {\n  await fs.mkdir(DATA_DIR, { recursive: true });\n}\n\nasync function readProducts(): Promise<Product[]> {\n  try {\n    await ensureDataDir();\n    const data = await fs.readFile(PRODUCTS_FILE, \"utf-8\");\n    return JSON.parse(data);\n  } catch {\n    return [];\n  }\n}\n\nexport async function getProducts(): Promise<Product[]> {\n  const products = await readProducts();\n  return products.sort(\n    (a, b) =>\n      new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n  );\n}\n\nexport async function addProduct(\n  product: Omit<Product, \"id\" | \"createdAt\">\n): Promise<Product> {\n  const { v4: uuid } = await import(\"uuid\");\n  const products = await readProducts();\n  const newProduct: Product = {\n    ...product,\n    id: uuid(),\n    createdAt: new Date().toISOString(),\n  };\n  products.push(newProduct);\n  await ensureDataDir();\n  await fs.writeFile(PRODUCTS_FILE, JSON.stringify(products, null, 2));\n  return newProduct;\n}\n\nexport async function deleteProduct(id: string): Promise<boolean> {\n  const products = await readProducts();\n  const filtered = products.filter((p) => p.id !== id);\n  if (filtered.length === products.length) return false;\n  await ensureDataDir();\n  await fs.writeFile(PRODUCTS_FILE, JSON.stringify(filtered, null, 2));\n  return true;\n}\n\nexport async function updateProduct(\n  id: string,\n  updates: Partial<Omit<Product, \"id\" | \"createdAt\">>\n): Promise<Product | null> {\n  const products = await readProducts();\n  const idx = products.findIndex((p) => p.id === id);\n  if (idx === -1) return null;\n  const current = products[idx];\n  products[idx] = {\n    ...current,\n    ...(updates.name !== undefined && { name: String(updates.name).trim() }),\n    ...(updates.description !== undefined && {\n      description: String(updates.description).trim(),\n    }),\n    ...(updates.category !== undefined && {\n      category: String(updates.category).trim(),\n    }),\n    ...(updates.imageUrl !== undefined && {\n      imageUrl: updates.imageUrl ? String(updates.imageUrl).trim() : undefined,\n    }),\n  };\n  await ensureDataDir();\n  await fs.writeFile(PRODUCTS_FILE, JSON.stringify(products, null, 2));\n  return products[idx];\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;AAWA,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAC1C,MAAM,gBAAgB,4GAAI,CAAC,IAAI,CAAC,UAAU;AAE1C,eAAe;IACb,MAAM,yGAAE,CAAC,KAAK,CAAC,UAAU;QAAE,WAAW;IAAK;AAC7C;AAEA,eAAe;IACb,IAAI;QACF,MAAM;QACN,MAAM,OAAO,MAAM,yGAAE,CAAC,QAAQ,CAAC,eAAe;QAC9C,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAEO,eAAe;IACpB,MAAM,WAAW,MAAM;IACvB,OAAO,SAAS,IAAI,CAClB,CAAC,GAAG,IACF,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO;AAErE;AAEO,eAAe,WACpB,OAA0C;IAE1C,MAAM,EAAE,IAAI,IAAI,EAAE,GAAG;IACrB,MAAM,WAAW,MAAM;IACvB,MAAM,aAAsB;QAC1B,GAAG,OAAO;QACV,IAAI;QACJ,WAAW,IAAI,OAAO,WAAW;IACnC;IACA,SAAS,IAAI,CAAC;IACd,MAAM;IACN,MAAM,yGAAE,CAAC,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,UAAU,MAAM;IACjE,OAAO;AACT;AAEO,eAAe,cAAc,EAAU;IAC5C,MAAM,WAAW,MAAM;IACvB,MAAM,WAAW,SAAS,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IACjD,IAAI,SAAS,MAAM,KAAK,SAAS,MAAM,EAAE,OAAO;IAChD,MAAM;IACN,MAAM,yGAAE,CAAC,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,UAAU,MAAM;IACjE,OAAO;AACT;AAEO,eAAe,cACpB,EAAU,EACV,OAAmD;IAEnD,MAAM,WAAW,MAAM;IACvB,MAAM,MAAM,SAAS,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAC/C,IAAI,QAAQ,CAAC,GAAG,OAAO;IACvB,MAAM,UAAU,QAAQ,CAAC,IAAI;IAC7B,QAAQ,CAAC,IAAI,GAAG;QACd,GAAG,OAAO;QACV,GAAI,QAAQ,IAAI,KAAK,aAAa;YAAE,MAAM,OAAO,QAAQ,IAAI,EAAE,IAAI;QAAG,CAAC;QACvE,GAAI,QAAQ,WAAW,KAAK,aAAa;YACvC,aAAa,OAAO,QAAQ,WAAW,EAAE,IAAI;QAC/C,CAAC;QACD,GAAI,QAAQ,QAAQ,KAAK,aAAa;YACpC,UAAU,OAAO,QAAQ,QAAQ,EAAE,IAAI;QACzC,CAAC;QACD,GAAI,QAAQ,QAAQ,KAAK,aAAa;YACpC,UAAU,QAAQ,QAAQ,GAAG,OAAO,QAAQ,QAAQ,EAAE,IAAI,KAAK;QACjE,CAAC;IACH;IACA,MAAM;IACN,MAAM,yGAAE,CAAC,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,UAAU,MAAM;IACjE,OAAO,QAAQ,CAAC,IAAI;AACtB"}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///C:/Source/Repos/devsrus/src/app/products/page.tsx"],"sourcesContent":["import { getProducts } from \"@/lib/products\";\nimport Link from \"next/link\";\n\nexport default async function ProductsPage() {\n  const products = await getProducts();\n\n  return (\n    <div className=\"px-4 py-12 sm:px-6 sm:py-16\">\n      <div className=\"mx-auto max-w-6xl\">\n        <h1 className=\"text-4xl font-bold text-white sm:text-5xl\">\n          Our products\n        </h1>\n        <p className=\"mt-4 text-lg text-slate-400\">\n          Ready-made solutions and custom applications for common business challenges.\n        </p>\n\n        {products.length === 0 ? (\n          <div className=\"mt-12 rounded-2xl border border-dashed border-slate-600 bg-slate-800/30 p-12 text-center\">\n            <p className=\"text-slate-400\">\n              No products yet. Check back soon or{\" \"}\n              <Link href=\"/contact\" className=\"text-cyan-400 hover:underline\">\n                contact us\n              </Link>{\" \"}\n              to discuss your needs.\n            </p>\n          </div>\n        ) : (\n          <div className=\"mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n            {products.map((product) => (\n              <article\n                key={product.id}\n                className=\"flex flex-col overflow-hidden rounded-2xl border border-slate-700/50 bg-slate-800/50 transition hover:border-cyan-500/50\"\n              >\n                {product.imageUrl ? (\n                  <div className=\"aspect-video bg-slate-700\">\n                    {/* eslint-disable-next-line @next/next/no-img-element */}\n                    <img\n                      src={product.imageUrl}\n                      alt={product.name}\n                      className=\"h-full w-full object-cover\"\n                    />\n                  </div>\n                ) : (\n                  <div className=\"flex aspect-video items-center justify-center bg-gradient-to-br from-slate-700 to-slate-800\">\n                    <span className=\"text-5xl text-slate-500\">ðŸ“¦</span>\n                  </div>\n                )}\n                <div className=\"flex flex-1 flex-col p-6\">\n                  <span className=\"text-sm font-medium text-cyan-400\">\n                    {product.category}\n                  </span>\n                  <h2 className=\"mt-2 text-xl font-bold text-white\">\n                    {product.name}\n                  </h2>\n                  <p className=\"mt-3 flex-1 text-slate-400\">{product.description}</p>\n                  <Link\n                    href=\"/contact\"\n                    className=\"mt-4 inline-block text-cyan-400 font-medium transition hover:text-cyan-300\"\n                  >\n                    Learn more â†’\n                  </Link>\n                </div>\n              </article>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,eAAe;IAC5B,MAAM,WAAW,MAAM,IAAA,qIAAW;IAElC,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA4C;;;;;;8BAG1D,8OAAC;oBAAE,WAAU;8BAA8B;;;;;;gBAI1C,SAAS,MAAM,KAAK,kBACnB,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAE,WAAU;;4BAAiB;4BACQ;0CACpC,8OAAC,0LAAI;gCAAC,MAAK;gCAAW,WAAU;0CAAgC;;;;;;4BAExD;4BAAI;;;;;;;;;;;yCAKhB,8OAAC;oBAAI,WAAU;8BACZ,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC;4BAEC,WAAU;;gCAET,QAAQ,QAAQ,iBACf,8OAAC;oCAAI,WAAU;8CAEb,cAAA,8OAAC;wCACC,KAAK,QAAQ,QAAQ;wCACrB,KAAK,QAAQ,IAAI;wCACjB,WAAU;;;;;;;;;;yDAId,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAK,WAAU;kDAA0B;;;;;;;;;;;8CAG9C,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAK,WAAU;sDACb,QAAQ,QAAQ;;;;;;sDAEnB,8OAAC;4CAAG,WAAU;sDACX,QAAQ,IAAI;;;;;;sDAEf,8OAAC;4CAAE,WAAU;sDAA8B,QAAQ,WAAW;;;;;;sDAC9D,8OAAC,0LAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;;;2BA5BE,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;AAuC/B"}}]
}