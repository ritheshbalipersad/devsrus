{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Source/Repos/devsrus/src/app/admin/products/AdminProductForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport ProductImageField from \"@/components/ProductImageField\";\n\nexport default function AdminProductForm() {\n  const router = useRouter();\n  const [status, setStatus] = useState<\"idle\" | \"sending\" | \"success\" | \"error\">(\n    \"idle\"\n  );\n  const [form, setForm] = useState({\n    name: \"\",\n    description: \"\",\n    category: \"Software\",\n    imageUrl: \"\",\n  });\n\n  async function handleSubmit(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n    setStatus(\"sending\");\n\n    try {\n      const res = await fetch(\"/api/admin/products\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          ...form,\n          imageUrl: form.imageUrl || undefined,\n        }),\n      });\n\n      if (!res.ok) throw new Error(\"Failed to add\");\n\n      setStatus(\"success\");\n      setForm({ name: \"\", description: \"\", category: \"Software\", imageUrl: \"\" });\n      router.refresh();\n    } catch {\n      setStatus(\"error\");\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"mt-6 space-y-4\">\n      <div>\n        <label htmlFor=\"name\" className=\"block text-sm font-medium text-slate-300\">\n          Name *\n        </label>\n        <input\n          id=\"name\"\n          type=\"text\"\n          required\n          value={form.name}\n          onChange={(e) => setForm((f) => ({ ...f, name: e.target.value }))}\n          className=\"mt-1 w-full rounded-lg border border-slate-600 bg-slate-800 px-4 py-2 text-white focus:border-cyan-500 focus:outline-none focus:ring-1 focus:ring-cyan-500\"\n        />\n      </div>\n      <div>\n        <label htmlFor=\"category\" className=\"block text-sm font-medium text-slate-300\">\n          Category\n        </label>\n        <input\n          id=\"category\"\n          type=\"text\"\n          value={form.category}\n          onChange={(e) => setForm((f) => ({ ...f, category: e.target.value }))}\n          className=\"mt-1 w-full rounded-lg border border-slate-600 bg-slate-800 px-4 py-2 text-white focus:border-cyan-500 focus:outline-none focus:ring-1 focus:ring-cyan-500\"\n          placeholder=\"e.g. Software, App, Tool\"\n        />\n      </div>\n      <div>\n        <label htmlFor=\"description\" className=\"block text-sm font-medium text-slate-300\">\n          Description *\n        </label>\n        <textarea\n          id=\"description\"\n          required\n          rows={3}\n          value={form.description}\n          onChange={(e) =>\n            setForm((f) => ({ ...f, description: e.target.value }))\n          }\n          className=\"mt-1 w-full rounded-lg border border-slate-600 bg-slate-800 px-4 py-2 text-white focus:border-cyan-500 focus:outline-none focus:ring-1 focus:ring-cyan-500\"\n        />\n      </div>\n      <div>\n        <label htmlFor=\"imageUrl\" className=\"block text-sm font-medium text-slate-300\">\n          Image URL (optional)\n        </label>\n        <input\n          id=\"imageUrl\"\n          type=\"url\"\n          value={form.imageUrl}\n          onChange={(e) => setForm((f) => ({ ...f, imageUrl: e.target.value }))}\n          className=\"mt-1 w-full rounded-lg border border-slate-600 bg-slate-800 px-4 py-2 text-white focus:border-cyan-500 focus:outline-none focus:ring-1 focus:ring-cyan-500\"\n          placeholder=\"https://...\"\n        />\n      </div>\n      {status === \"success\" && (\n        <p className=\"text-emerald-400\">Product added successfully.</p>\n      )}\n      {status === \"error\" && (\n        <p className=\"text-red-400\">Failed to add product. Please try again.</p>\n      )}\n      <button\n        type=\"submit\"\n        disabled={status === \"sending\"}\n        className=\"rounded-lg bg-cyan-500 px-6 py-2 font-semibold text-slate-900 transition hover:bg-cyan-400 disabled:opacity-50\"\n      >\n        {status === \"sending\" ? \"Adding...\" : \"Add product\"}\n      </button>\n    </form>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAMe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAClC;IAEF,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;QAC/B,MAAM;QACN,aAAa;QACb,UAAU;QACV,UAAU;IACZ;IAEA,eAAe,aAAa,CAAmC;QAC7D,EAAE,cAAc;QAChB,UAAU;QAEV,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,uBAAuB;gBAC7C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,GAAG,IAAI;oBACP,UAAU,KAAK,QAAQ,IAAI;gBAC7B;YACF;YAEA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;YAE7B,UAAU;YACV,QAAQ;gBAAE,MAAM;gBAAI,aAAa;gBAAI,UAAU;gBAAY,UAAU;YAAG;YACxE,OAAO,OAAO;QAChB,EAAE,OAAM;YACN,UAAU;QACZ;IACF;IAEA,qBACE,6LAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,6LAAC;;kCACC,6LAAC;wBAAM,SAAQ;wBAAO,WAAU;kCAA2C;;;;;;kCAG3E,6LAAC;wBACC,IAAG;wBACH,MAAK;wBACL,QAAQ;wBACR,OAAO,KAAK,IAAI;wBAChB,UAAU,CAAC,IAAM,QAAQ,CAAC,IAAM,CAAC;oCAAE,GAAG,CAAC;oCAAE,MAAM,EAAE,MAAM,CAAC,KAAK;gCAAC,CAAC;wBAC/D,WAAU;;;;;;;;;;;;0BAGd,6LAAC;;kCACC,6LAAC;wBAAM,SAAQ;wBAAW,WAAU;kCAA2C;;;;;;kCAG/E,6LAAC;wBACC,IAAG;wBACH,MAAK;wBACL,OAAO,KAAK,QAAQ;wBACpB,UAAU,CAAC,IAAM,QAAQ,CAAC,IAAM,CAAC;oCAAE,GAAG,CAAC;oCAAE,UAAU,EAAE,MAAM,CAAC,KAAK;gCAAC,CAAC;wBACnE,WAAU;wBACV,aAAY;;;;;;;;;;;;0BAGhB,6LAAC;;kCACC,6LAAC;wBAAM,SAAQ;wBAAc,WAAU;kCAA2C;;;;;;kCAGlF,6LAAC;wBACC,IAAG;wBACH,QAAQ;wBACR,MAAM;wBACN,OAAO,KAAK,WAAW;wBACvB,UAAU,CAAC,IACT,QAAQ,CAAC,IAAM,CAAC;oCAAE,GAAG,CAAC;oCAAE,aAAa,EAAE,MAAM,CAAC,KAAK;gCAAC,CAAC;wBAEvD,WAAU;;;;;;;;;;;;0BAGd,6LAAC;;kCACC,6LAAC;wBAAM,SAAQ;wBAAW,WAAU;kCAA2C;;;;;;kCAG/E,6LAAC;wBACC,IAAG;wBACH,MAAK;wBACL,OAAO,KAAK,QAAQ;wBACpB,UAAU,CAAC,IAAM,QAAQ,CAAC,IAAM,CAAC;oCAAE,GAAG,CAAC;oCAAE,UAAU,EAAE,MAAM,CAAC,KAAK;gCAAC,CAAC;wBACnE,WAAU;wBACV,aAAY;;;;;;;;;;;;YAGf,WAAW,2BACV,6LAAC;gBAAE,WAAU;0BAAmB;;;;;;YAEjC,WAAW,yBACV,6LAAC;gBAAE,WAAU;0BAAe;;;;;;0BAE9B,6LAAC;gBACC,MAAK;gBACL,UAAU,WAAW;gBACrB,WAAU;0BAET,WAAW,YAAY,cAAc;;;;;;;;;;;;AAI9C;GA3GwB;;QACP,kJAAS;;;KADF"}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///C:/Source/Repos/devsrus/src/app/admin/products/DeleteProductButton.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { useState } from \"react\";\n\nexport default function DeleteProductButton({\n  productId,\n  productName,\n}: {\n  productId: string;\n  productName: string;\n}) {\n  const router = useRouter();\n  const [loading, setLoading] = useState(false);\n\n  async function handleDelete() {\n    if (!confirm(`Delete \"${productName}\"?`)) return;\n    setLoading(true);\n    try {\n      const res = await fetch(`/api/admin/products?id=${productId}`, {\n        method: \"DELETE\",\n      });\n      if (res.ok) router.refresh();\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <button\n      type=\"button\"\n      onClick={handleDelete}\n      disabled={loading}\n      className=\"shrink-0 rounded-lg border border-red-500/50 bg-red-500/10 px-4 py-2 text-sm font-medium text-red-400 transition hover:bg-red-500/20 disabled:opacity-50\"\n    >\n      {loading ? \"Deleting...\" : \"Delete\"}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS,oBAAoB,EAC1C,SAAS,EACT,WAAW,EAIZ;;IACC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,eAAe;QACb,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,YAAY,EAAE,CAAC,GAAG;QAC1C,WAAW;QACX,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,uBAAuB,EAAE,WAAW,EAAE;gBAC7D,QAAQ;YACV;YACA,IAAI,IAAI,EAAE,EAAE,OAAO,OAAO;QAC5B,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,6LAAC;QACC,MAAK;QACL,SAAS;QACT,UAAU;QACV,WAAU;kBAET,UAAU,gBAAgB;;;;;;AAGjC;GAjCwB;;QAOP,kJAAS;;;KAPF"}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///C:/Source/Repos/devsrus/src/app/admin/products/ProductRow.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport type { Product } from \"@/lib/products\";\nimport DeleteProductButton from \"./DeleteProductButton\";\n\ntype Props = {\n  product: Product;\n};\n\nexport default function ProductRow({ product }: Props) {\n  const router = useRouter();\n  const [editing, setEditing] = useState(false);\n  const [status, setStatus] = useState<\"idle\" | \"saving\" | \"success\" | \"error\">(\n    \"idle\"\n  );\n  const [form, setForm] = useState({\n    name: product.name,\n    description: product.description,\n    category: product.category,\n    imageUrl: product.imageUrl ?? \"\",\n  });\n\n  async function handleSave(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n    setStatus(\"saving\");\n\n    try {\n      const res = await fetch(\"/api/admin/products\", {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          id: product.id,\n          name: form.name,\n          description: form.description,\n          category: form.category,\n          imageUrl: form.imageUrl || undefined,\n        }),\n      });\n\n      if (!res.ok) {\n        const data = await res.json().catch(() => ({}));\n        setStatus(\"error\");\n        return;\n      }\n\n      setStatus(\"success\");\n      setEditing(false);\n      router.refresh();\n    } catch {\n      setStatus(\"error\");\n    }\n  }\n\n  function handleCancel() {\n    setForm({\n      name: product.name,\n      description: product.description,\n      category: product.category,\n      imageUrl: product.imageUrl ?? \"\",\n    });\n    setEditing(false);\n    setStatus(\"idle\");\n  }\n\n  if (editing) {\n    return (\n      <li className=\"rounded-xl border border-slate-600 bg-slate-800/80 p-4\">\n        <form onSubmit={handleSave} className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300\">\n              Name *\n            </label>\n            <input\n              type=\"text\"\n              required\n              value={form.name}\n              onChange={(e) => setForm((f) => ({ ...f, name: e.target.value }))}\n              className=\"mt-1 w-full rounded-lg border border-slate-600 bg-slate-800 px-4 py-2 text-white focus:border-cyan-500 focus:outline-none focus:ring-1 focus:ring-cyan-500\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300\">\n              Category\n            </label>\n            <input\n              type=\"text\"\n              value={form.category}\n              onChange={(e) =>\n                setForm((f) => ({ ...f, category: e.target.value }))\n              }\n              className=\"mt-1 w-full rounded-lg border border-slate-600 bg-slate-800 px-4 py-2 text-white focus:border-cyan-500 focus:outline-none focus:ring-1 focus:ring-cyan-500\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300\">\n              Description *\n            </label>\n            <textarea\n              required\n              rows={3}\n              value={form.description}\n              onChange={(e) =>\n                setForm((f) => ({ ...f, description: e.target.value }))\n              }\n              className=\"mt-1 w-full rounded-lg border border-slate-600 bg-slate-800 px-4 py-2 text-white focus:border-cyan-500 focus:outline-none focus:ring-1 focus:ring-cyan-500\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300\">\n              Image URL (optional)\n            </label>\n            <input\n              type=\"url\"\n              value={form.imageUrl}\n              onChange={(e) =>\n                setForm((f) => ({ ...f, imageUrl: e.target.value }))\n              }\n              className=\"mt-1 w-full rounded-lg border border-slate-600 bg-slate-800 px-4 py-2 text-white focus:border-cyan-500 focus:outline-none focus:ring-1 focus:ring-cyan-500\"\n            />\n          </div>\n          {status === \"error\" && (\n            <p className=\"text-sm text-red-400\">Failed to save. Try again.</p>\n          )}\n          <div className=\"flex flex-wrap gap-2\">\n            <button\n              type=\"submit\"\n              disabled={status === \"saving\"}\n              className=\"rounded-lg bg-cyan-500 px-4 py-2 text-sm font-semibold text-slate-900 transition hover:bg-cyan-400 disabled:opacity-50\"\n            >\n              {status === \"saving\" ? \"Saving...\" : \"Save\"}\n            </button>\n            <button\n              type=\"button\"\n              onClick={handleCancel}\n              disabled={status === \"saving\"}\n              className=\"rounded-lg border border-slate-600 px-4 py-2 text-sm text-slate-300 transition hover:bg-slate-700 disabled:opacity-50\"\n            >\n              Cancel\n            </button>\n          </div>\n        </form>\n      </li>\n    );\n  }\n\n  return (\n    <li className=\"flex flex-col gap-4 rounded-xl border border-slate-700/50 bg-slate-800/50 p-4 sm:flex-row sm:items-center sm:justify-between\">\n      <div className=\"min-w-0 flex-1\">\n        <span className=\"text-sm text-cyan-400\">{product.category}</span>\n        <h3 className=\"font-semibold text-white\">{product.name}</h3>\n        <p className=\"mt-1 truncate text-sm text-slate-400\">\n          {product.description}\n        </p>\n      </div>\n      <div className=\"flex shrink-0 gap-2\">\n        <button\n          type=\"button\"\n          onClick={() => setEditing(true)}\n          className=\"rounded-lg border border-slate-600 bg-slate-700 px-4 py-2 text-sm font-medium text-white transition hover:bg-slate-600\"\n        >\n          Edit\n        </button>\n        <DeleteProductButton productId={product.id} productName={product.name} />\n      </div>\n    </li>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}